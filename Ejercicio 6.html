<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html><head>
    <title>Manipular nodos</title>
    <style type="text/css">
        #cuadro  { width: 400px; height: 250px; border: 1px black solid; float: right;
            font-family: arial; overflow: auto }
        p  { font-size: 1em; font-family: arial;  }
    </style>

    <script>
        let sw=false;
        let t1,t2,t3;
        function guardar()
        {
            if(sw === false)
            {
                t1 = document.getElementById("primero");
             t2 = document.getElementById("segundo");
             t3 = document.getElementById("tercero");
             sw=true;
            }

        }

        function debajo()
        {
            guardar();
            let cuadro = document.getElementById("cuadro");
            let nuevo = document.createElement("h4");
            nuevo.appendChild(document.createTextNode("Elemento al final"));
            cuadro.appendChild(nuevo);

        }

        function delante()
        {
            guardar();

            let textos = document.querySelectorAll("div > h4");

            let cuadro = document.getElementById("cuadro");
            let nuevo = document.createElement("h4");
            nuevo.appendChild(document.createTextNode("Nuevo Elemento Segundo"));
            cuadro.insertBefore(nuevo,textos[1]);

        }


        function reemplazar()
        {
            guardar();
            let cuadro = document.getElementById("cuadro");
            let nuevo = document.createElement("h4");
            nuevo.appendChild(document.createTextNode("Nuevo Elemento Primero"));
            let parrafos = document.querySelectorAll("h4");
            parrafos[0].remove();
            cuadro.insertBefore(nuevo,cuadro.childNodes[0]);

        }

        function suprimir()
        {
            guardar();
            let parrafos = document.getElementsByTagName("p");
            parrafos[2].remove();

        }

        function cambiar()
        {
            guardar();
            let cuadro = document.getElementById("cuadro");
            let textos = document.querySelectorAll("div > h4");
            let t = textos.length;
            let segundo = textos[1];
            textos[1].remove();
            cuadro.appendChild(segundo);
            t
        }

        function restaurar()
        {
            guardar();
            let cuadro = document.getElementById("cuadro");

            borrarCuadro();

            cuadro.appendChild(t1);
            cuadro.appendChild(t2);
            cuadro.appendChild(t3);


        }
        function borrarCuadro()
        {
            let elemCuadro=document.getElementById("cuadro");
            while(elemCuadro.hasChildNodes())
            elemCuadro.removeChild(elemCuadro.firstChild);
        }

        function copiar()
        {
            guardar();
            let cuadro = document.getElementById("cuadro");
            let textos = document.getElementsByTagName("h4");
            let elementoUlt = textos.item(textos.length-1);
            cuadro.appendChild(elementoUlt.cloneNode(true));

        }


    </script>

</head>
<body>
<h1>Manipulación  de nodos. </h1>
<div id="cuadro">
    <h4 id="primero">Primer texto fijo</h4>
    <h4 id="segundo">Segundo texto fijo</h4>
    <h4 id="tercero">Tercer texto fijo</h4>
</div>
<p>Pulsa en los siguientes párrafos, para cambiar los textos de la caja de la derecha</p>
<p onclick="restaurar()">Pulsa en este párrafo para restaurar el estado inicial de la caja.</p>
<p onclick="debajo()">Insertar nuevo elemento debajo de todos</p>
<p onclick="delante()">Insertar nuevo elemento delante del segundo.</p>
<p onclick="reemplazar()">reemplazar el primer elemento de la caja por otro nuevo</p>
<p onclick="suprimir()">Suprimir el tercer párrafo</p>
<p onclick="cambiar()">Poner el segundo texto en último lugar</p>
<p onclick="copiar()">Copia del nuevo elemento, se inserta al final</p>
</body>
</html>